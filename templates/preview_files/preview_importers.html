{% set add_to_btn = 'importer' %}
{% set filename = data.importer.filename %}
{% set file_id = data.importer.id %}
{% set file_type = data.file_type %}
{% set classToAdd = '' %}
<div class="mt-5">
    <h2 class="mb-3">Aperçu de l'importer <span class="filename">{{data.importer.front_name}}</span></h2>
    <br>
    <div class="row">
        <h4 class="col-md-11">Configuration de l'importer</h4>
        {% include "preview_files/modules/_btn_save_delete.html" %}
    </div>
    {% set headers_infos = [
        {'title': 'Fichier de Datas', 'size': 3},
        {'title': 'Séparateur', 'size': 1},
        {'title': 'Fichier de Mapping', 'size': 3},
        {'title': 'Nom de l\'index ES', 'size': 3}
    ] %}
    {% include "preview_files/modules/_headers.html" %}
</div>
<div class="field-preview-container" id="preview-list-fields-container">
    <div class="row field-preview">
        <div class="col-md-3" data-field="datas_filename">
            <select class="form-select" data-original="{{ data.importer.datas_filename }}">
            {%for data_file in data.data_list_files %}
                {% if data.importer.datas_filename == data_file.file_name %}
                    <option value="{{ data_file.file_name }}" selected>{{ data_file.file_name }}</option>
                {% else %}
                    <option value="{{ data_file.file_name }}">{{ data_file.file_name }}</option>
                {% endif %}
            {% endfor %}
            </select>
        </div>
        <div class="col-md-1" data-field="datas_separator">
            <input type="text" value="{{ data.importer.datas_separator }}" data-original="{{ data.importer.datas_separator }}">
        </div>
        <div class="col-md-3" data-field="mapping_filename">
            <select class="form-select" data-original="{{ data.importer.mapping_filename }}">
            {%for mapping_file in data.mapping_list_files %}
                {% if data.importer.mapping_filename == mapping_file.file_name %}
                    <option value="{{ mapping_file.file_name }}" selected>{{ mapping_file.file_name}}</option>
                {% else %}
                    <option value="{{ mapping_file.file_name }}">{{ mapping_file.file_name }}</option>
                {% endif %}
            {% endfor %}
            </select>
        </div>
        <div class="col-md-3" data-field="index_name">
            <input type="text" value="{{ data.importer.index_name }}" data-original="{{ data.importer.index_name }}">
        </div>
        <div class="col-01-md-2 field-picto update hidden"
            data-field="update">
            <i class="picto-modified"></i>
        </div>
    </div>
</div>